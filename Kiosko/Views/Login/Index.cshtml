
@{
    ViewData["Title"] = "Index";
    Layout = null;
}
<link href="~/lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />
<div class="col-md-6 m-auto" style="position:relative;top:50%;transform:translateY(-50%)">

    <div style="display:grid;grid-template-columns:1fr 1fr;grid-template-rows:600px;grid-gap:2em">

        <div>
            <img style="width:100%" src="https://www.cielingenieria.com/wp-content/uploads/2019/06/logo-ciel-nuevo2.png" />
        </div>
        <div>
            <div class="form-group">
                <label>Usuario</label>
                <input type="text" class="form-control" id="txtUsuario" />
            </div>
            <div class="form-group">
                <label>Contraseña</label>
                <input type="password" class="form-control" id="txtPassword" />
            </div>
            <input type="button" class="btn btn-block btn btn-primary" id="botonIniciarSesion" value="Enviar" />

            <div class="mt-3">
                <a asp-area="" asp-controller="Login" asp-action="Index">
                    Registrarse Usuario
                </a>
            </div>
        </div>


    </div>

</div>

<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="~/js/generic.js"></script>

<script>

    const idButton = document.getElementById("botonIniciarSesion").addEventListener("click", iniciarSesion);

    function iniciarSesion() {
        console.log("Esta iniciando sesion");
        const usuario = document.getElementById("txtUsuario").value;
        const password = document.getElementById("txtPassword").value;

        $.get(`Login/Login/?username=${usuario}&password=${password}`, function (data) {
            if (data == "") {
                alert("Usuario y/o contraseñas invalidos");
                return;
            }
            document.location.href = "Home";
        })
    }

</script>


